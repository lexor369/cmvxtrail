<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <meta name="referrer" content="no-referrer">
 <title>CMV Premium Streams</title>
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.6/controls.min.css" crossorigin="anonymous">
 <link rel="stylesheet" href="https://livecrichdofficial.pages.dev/livecrichd2.css">
 <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
   
    :root {
        --primary-gold: #D4AF37;
        --primary-dark: #0F1419;
        --secondary-dark: #1A2332;
        --accent-blue: #1E90FF;
        --accent-emerald: #10B981;
        --text-light: #E8ECEF;
        --text-muted: #A8B2CC;
        --glass-bg: rgba(26, 35, 50, 0.9);
        --glass-bg-popup: rgba(15, 20, 25, 0.95);
        --shadow-light: 0 8px 32px rgba(0,0,0,0.45);
        --shadow-premium: 0 20px 60px rgba(212, 175, 55, 0.3);
        --shadow-hover: 0 24px 80px rgba(212, 175, 55, 0.45);
        --gradient-gold: linear-gradient(135deg, #D4AF37 0%, #FAD02C 50%, #FFD700 100%);
        --gradient-fire: linear-gradient(135deg, #FF6B35 0%, #FF8C42 50%, #FF4500 100%);
    }
   
    html, body {
        height: 100%;
        overflow-y: auto;
        background: linear-gradient(135deg, var(--primary-dark) 0%, #000428 30%, #000 100%);
        background-attachment: fixed;
        color: var(--text-light);
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
        line-height: 1.6;
        scroll-behavior: smooth;
        position: relative;
    }
   
    body::before {
        content: '';
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        background: radial-gradient(circle at 20% 80%, rgba(212, 175, 55, 0.08) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, rgba(30, 144, 255, 0.06) 0%, transparent 50%);
        z-index: -1;
        pointer-events: none;
    }
   
    body { min-height: 300vh; }
   
    /* ENHANCED PREMIUM HEADER */
    .header {
        position: sticky; top: 0; z-index: 1000;
        background: linear-gradient(180deg, rgba(15,20,25,0.98), rgba(0,0,0,0.97));
        backdrop-filter: blur(40px); 
        border-bottom: 2px solid transparent;
        background-clip: padding-box;
        padding: clamp(1.2rem, 4vw, 2.2rem) clamp(1.5rem, 6vw, 4rem);
        text-align: center;
        box-shadow: var(--shadow-light);
    }
   
    .channel-logo {
        display: flex; flex-direction: column; align-items: center; gap: 0.75rem;
        animation: premiumGlow 3s ease-in-out infinite alternate;
    }
   
    .channel-name {
        font-size: clamp(2.2rem, 9vw, 4.5rem);
        font-weight: 900; letter-spacing: -0.06em;
        background: var(--gradient-gold);
        -webkit-background-clip: text; background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 60px rgba(212, 175, 55, 0.7);
        margin: 0;
        position: relative;
        line-height: 1.1;
    }
   
    .channel-name::before {
        content: 'PREMIUM'; 
        position: absolute; 
        top: -15px; right: -40px;
        font-size: clamp(0.4rem, 1vw, 0.6rem);
        font-weight: 800; 
        color: var(--accent-emerald);
        background: rgba(16, 185, 129, 0.2);
        padding: 0.2rem 0.6rem;
        border-radius: 12px;
        border: 1px solid var(--accent-emerald);
        letter-spacing: 0.1em;
        text-transform: uppercase;
    }
   
    .channel-name::after {
        content: ''; position: absolute; bottom: -12px; left: 50%;
        transform: translateX(-50%); width: 80px; height: 4px;
        background: var(--gradient-gold);
        border-radius: 3px; 
        box-shadow: 0 0 20px rgba(212, 175, 55, 0.6);
        animation: premiumShimmer 4s infinite;
    }
   
    .telegram-handle {
        font-size: clamp(1rem, 3.2vw, 1.3rem);
        font-weight: 700; color: var(--text-light);
        display: inline-flex; align-items: center; gap: 0.75rem;
        padding: 0.75rem 2rem; 
        background: linear-gradient(145deg, rgba(30, 144, 255, 0.2), rgba(30, 144, 255, 0.1));
        border: 2px solid rgba(30, 144, 255, 0.4); 
        border-radius: 50px;
        backdrop-filter: blur(20px); 
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        animation: premiumFloat 4s ease-in-out infinite;
        text-decoration: none;
        position: relative;
        overflow: hidden;
    }
   
    .telegram-handle::before {
        content: ''; position: absolute; top: 0; left: -100%;
        width: 100%; height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
        transition: left 0.8s;
    }
   
    .telegram-handle:hover::before { left: 100%; }
    .telegram-handle:hover {
        background: linear-gradient(145deg, var(--accent-blue), rgba(30, 144, 255, 0.4));
        border-color: var(--accent-blue);
        transform: translateY(-4px) scale(1.02);
        box-shadow: 0 16px 50px rgba(30, 144, 255, 0.4);
        color: white;
    }
   
    .telegram-icon { font-size: 1.4em; filter: drop-shadow(0 0 8px rgba(30,144,255,0.5)); }
   
    /* WORLD-CLASS POPUP */
    .popup {
        position: fixed; inset: 0;
        background: radial-gradient(circle at center, rgba(15,20,25,0.98) 0%, rgba(0,0,0,0.99) 70%);
        backdrop-filter: blur(50px);
        display: flex; justify-content: center; align-items: center;
        z-index: 9999; padding: 2rem;
        animation: popupAppear 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .popup.hide { display: none; }
   
    .popup-content {
        background: linear-gradient(145deg, rgba(26, 35, 50, 0.95), rgba(15,20,25,0.98));
        backdrop-filter: blur(50px); 
        border-radius: 36px;
        padding: clamp(3rem, 8vw, 4rem); 
        max-width: 500px; 
        width: 92vw;
        box-shadow: var(--shadow-premium), inset 0 1px 0 rgba(255,255,255,0.1);
        border: 2px solid transparent;
        border-image: var(--gradient-gold) 1;
        text-align: center;
        position: relative;
        animation: popupFloat 3s ease-in-out infinite;
    }
   
    .popup-content::before {
        content: '‚ú¶'; position: absolute; top: -20px; left: 50%;
        transform: translateX(-50%); font-size: 2rem; color: var(--primary-gold);
        background: var(--glass-bg-popup); padding: 0.5rem; border-radius: 50%;
        box-shadow: var(--shadow-light);
    }
   
    .popup-content h2 {
        font-size: clamp(2rem, 6vw, 3rem); 
        font-weight: 900;
        background: var(--gradient-gold);
        -webkit-background-clip: text; 
        -webkit-text-fill-color: transparent;
        margin-bottom: 1.5rem; 
        letter-spacing: -0.03em;
        text-shadow: 0 0 40px rgba(212, 175, 55, 0.6);
        position: relative;
    }
   
    .popup-content p {
        color: var(--text-muted); 
        font-size: clamp(1.1rem, 3vw, 1.25rem);
        margin-bottom: 2.5rem; 
        line-height: 1.7;
        font-weight: 400;
    }
   
    /* PREMIUM BUTTONS - WORLD CLASS */
    .btn-premium {
        display: block; 
        background: var(--gradient-gold);
        color: var(--primary-dark); 
        font-weight: 800; 
        font-size: clamp(1.1rem, 3.5vw, 1.3rem);
        padding: 1.4rem 3rem; 
        border-radius: 28px; 
        border: none;
        text-decoration: none; 
        margin: 0 auto 1.8rem; 
        max-width: 380px;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: var(--shadow-premium); 
        position: relative; 
        overflow: hidden;
        letter-spacing: 0.5px;
        text-transform: uppercase;
    }
    
    .btn-premium::before {
        content: ''; 
        position: absolute; 
        top: 0; left: -100%; 
        width: 100%; height: 100%;
        background: var(--gradient-fire);
        transition: left 0.8s;
        z-index: -1;
    }
    
    .btn-premium:hover::before { left: 100%; }
    .btn-premium:hover {
        transform: translateY(-6px) scale(1.05);
        box-shadow: 0 30px 100px rgba(212, 175, 55, 0.6);
        color: white !important;
    }
   
    .btn-secondary {
        background: transparent; 
        color: var(--accent-emerald); 
        font-size: clamp(1rem, 3vw, 1.2rem);
        padding: 1.2rem 2.5rem; 
        border: 2px solid var(--accent-emerald); 
        border-radius: 24px;
        cursor: pointer; 
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        font-weight: 800; 
        backdrop-filter: blur(25px);
        letter-spacing: 0.3px;
        text-transform: uppercase;
        position: relative;
        overflow: hidden;
    }
    
    .btn-secondary::before {
        content: ''; position: absolute; inset: 0;
        background: var(--accent-emerald); opacity: 0;
        transition: opacity 0.4s;
        z-index: -1;
    }
    
    .btn-secondary:hover {
        background: var(--accent-emerald); 
        color: white; 
        transform: translateY(-4px) scale(1.02);
        box-shadow: 0 20px 60px rgba(16, 185, 129, 0.4);
    }
    
    .btn-secondary:hover::before { opacity: 1; }
   
    /* ENHANCED Stream Switcher */
    .stream-switcher {
        position: relative; 
        margin: clamp(3rem, 8vw, 5rem) auto 0; 
        width: min(95vw, 650px);
        background: linear-gradient(145deg, rgba(26, 35, 50, 0.95), rgba(15,20,25,0.98));
        backdrop-filter: blur(45px); 
        border-radius: 36px;
        padding: clamp(2rem, 5vw, 2.8rem) clamp(2.5rem, 7vw, 4rem);
        border: 2px solid transparent;
        border-image: var(--gradient-gold) 1;
        box-shadow: var(--shadow-premium);
        display: none;
    }
    
    .stream-switcher.show { display: block; animation: slideUp 0.6s ease-out; }
   
    .switcher-title {
        text-align: center; margin-bottom: 2rem;
        font-size: clamp(1.4rem, 4vw, 1.8rem);
        font-weight: 800; color: var(--text-light);
        background: var(--gradient-gold);
        -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
   
    .switcher-container {
        display: flex; gap: clamp(1.2rem, 3.5vw, 2rem); 
        justify-content: center; 
        flex-wrap: wrap;
    }
   
    .switch-btn {
        flex: 1; min-width: clamp(150px, 38vw, 180px);
        background: linear-gradient(145deg, rgba(212, 175, 55, 0.2), rgba(250, 208, 44, 0.15));
        color: var(--text-light); 
        border: 2px solid rgba(212, 175, 55, 0.4); 
        padding: clamp(1.2rem, 4vw, 1.5rem) 2.5rem;
        border-radius: 28px; 
        font-weight: 800; 
        font-size: clamp(1.05rem, 3.2vw, 1.25rem);
        cursor: pointer; 
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: var(--shadow-light); 
        position: relative;
        backdrop-filter: blur(20px);
        letter-spacing: 0.3px;
        text-transform: uppercase;
    }
    
    .switch-btn.active {
        background: var(--gradient-fire);
        color: white;
        border-color: transparent;
        box-shadow: 0 25px 80px rgba(255, 107, 53, 0.6); 
        transform: scale(1.08) translateY(-5px);
    }
    
    .switch-btn:hover:not(.active) {
        transform: translateY(-6px) scale(1.03);
        background: var(--gradient-gold);
        color: var(--primary-dark);
        box-shadow: 0 25px 80px rgba(212, 175, 55, 0.6);
        border-color: var(--primary-gold);
    }
   
    /* PREMIUM PLAYER */
    .player-section {
        max-width: min(98vw, 1500px); 
        margin: clamp(4rem, 10vw, 6rem) auto;
        padding: clamp(2.5rem, 6vw, 4rem);
        background: linear-gradient(145deg, rgba(26, 35, 50, 0.95), rgba(15,20,25,0.98));
        border-radius: 40px; 
        box-shadow: var(--shadow-premium);
        border: 2px solid transparent;
        border-image: var(--gradient-gold) 1;
        position: relative;
        overflow: hidden;
    }
   
    .player-section::before {
        content: 'üé• PREMIUM HD PLAYER'; 
        position: absolute; 
        top: 1.5rem; left: 3rem;
        font-size: clamp(0.9rem, 2vw, 1.1rem);
        font-weight: 700; 
        color: var(--primary-gold);
        background: rgba(212, 175, 55, 0.15);
        padding: 0.4rem 1.2rem;
        border-radius: 20px;
        border: 1px solid rgba(212, 175, 55, 0.3);
        z-index: 10;
    }
   
    .shaka-video-container {
        width: 100% !important; height: clamp(450px, 70vh, 850px) !important;
        border-radius: 28px; overflow: hidden !important;
        box-shadow: 0 40px 120px rgba(0,0,0,0.8);
        margin-top: 2rem;
    }
   
    #main-content { display: none; padding-top: clamp(2rem, 5vw, 3rem); min-height: 300vh; }
    #player-container.hide { display: none; }
   
    /* ENHANCED SCROLL CONTENT */
    .scroll-content {
        max-width: min(92vw, 850px); 
        margin: clamp(5rem, 12vw, 8rem) auto;
        padding: clamp(3rem, 8vw, 5rem) clamp(3rem, 8vw, 4rem);
        background: linear-gradient(145deg, rgba(26, 35, 50, 0.95), rgba(15,20,25,0.98));
        backdrop-filter: blur(40px); 
        border-radius: 36px;
        border: 2px solid transparent;
        border-image: var(--gradient-gold) 1;
        box-shadow: var(--shadow-premium);
        text-align: center;
    }
   
    .scroll-content h2 {
        font-size: clamp(2.2rem, 6vw, 3.2rem); 
        margin-bottom: 2rem;
        background: var(--gradient-gold);
        -webkit-background-clip: text; 
        -webkit-text-fill-color: transparent;
        font-weight: 900;
        letter-spacing: -0.03em;
        text-shadow: 0 0 50px rgba(212, 175, 55, 0.7);
    }
   
    .scroll-content p {
        color: var(--text-muted); 
        font-size: clamp(1.15rem, 3vw, 1.3rem);
        margin-bottom: 3rem; 
        line-height: 1.8;
        font-weight: 400;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }
   
    .scroll-content ul {
        text-align: left; 
        max-width: 650px; 
        margin: 3rem auto; 
        list-style: none;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
    }
    
    .scroll-content li {
        padding: 1.8rem 2.5rem; 
        font-size: clamp(1.1rem, 2.8vw, 1.25rem);
        background: rgba(255,255,255,0.03);
        border-radius: 20px;
        border: 1px solid rgba(212, 175, 55, 0.2);
        backdrop-filter: blur(15px);
        position: relative;
        transition: all 0.4s ease;
        box-shadow: 0 8px 30px rgba(0,0,0,0.3);
    }
    
    .scroll-content li:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 60px rgba(212, 175, 55, 0.2);
        border-color: var(--primary-gold);
    }
    
    .scroll-content li::before {
        content: attr(data-icon); 
        position: absolute; 
        left: 1.5rem; 
        top: 50%;
        transform: translateY(-50%); 
        color: var(--primary-gold);
        font-size: 1.8rem; 
        font-weight: bold;
        z-index: 1;
    }
    
    .scroll-content li span {
        display: block; 
        margin-left: 3rem;
        font-weight: 500;
    }
   
    /* ULTRA-PREMIUM SCROLLBAR */
    ::-webkit-scrollbar { width: clamp(12px, 4vw, 20px); height: clamp(12px, 4vw, 20px); }
    ::-webkit-scrollbar-track {
        background: rgba(26,35,50,0.8); 
        border-radius: 16px; 
        backdrop-filter: blur(20px);
        border: 2px solid rgba(212, 175, 55, 0.1);
    }
    ::-webkit-scrollbar-thumb {
        background: var(--gradient-gold); 
        border-radius: 16px;
        border: 3px solid var(--primary-dark); 
        box-shadow: var(--shadow-premium);
        transition: all 0.3s ease;
    }
    ::-webkit-scrollbar-thumb:hover {
        background: var(--gradient-fire); 
        transform: scale(1.15);
        box-shadow: 0 0 20px rgba(255, 107, 53, 0.6);
    }
   
    /* ENHANCED ANIMATIONS */
    @keyframes premiumGlow {
        0%, 100% { 
            text-shadow: 0 0 30px rgba(212, 175, 55, 0.6), 0 0 60px rgba(212, 175, 55, 0.3); 
        }
        50% { 
            text-shadow: 0 0 50px rgba(212, 175, 55, 0.9), 0 0 100px rgba(212, 175, 55, 0.5),
                        0 0 150px rgba(212, 175, 55, 0.2); 
        }
    }
   
    @keyframes premiumShimmer {
        0%, 100% { box-shadow: 0 0 20px rgba(212, 175, 55, 0.6); }
        50% { box-shadow: 0 0 40px rgba(212, 175, 55, 1), 0 0 80px rgba(212, 175, 55, 0.6); }
    }
   
    @keyframes premiumFloat {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-8px); }
    }
   
    @keyframes popupAppear {
        from { opacity: 0; transform: scale(0.9) rotateX(10deg); }
        to { opacity: 1; transform: scale(1) rotateX(0); }
    }
   
    @keyframes slideUp {
        from { opacity: 0; transform: translateY(50px); }
        to { opacity: 1; transform: translateY(0); }
    }
   
    /* ULTRA RESPONSIVE MOBILE */
    @media (max-width: 768px) {
        .header { padding: clamp(1.5rem, 6vw, 2rem) 1.8rem; }
        .player-section { 
            margin: clamp(3rem, 8vw, 4rem) 1.2rem; 
            padding: clamp(2rem, 6vw, 3rem);
        }
        .player-section::before { 
            left: 1.5rem; top: 1rem; 
            font-size: clamp(0.8rem, 2.5vw, 1rem);
        }
        .switcher-container { 
            flex-direction: column; 
            gap: clamp(1.5rem, 5vw, 2rem); 
        }
        .switch-btn { 
            min-width: unset; 
            padding: clamp(1.4rem, 5vw, 1.8rem) 2.8rem; 
        }
        .stream-switcher { 
            margin: clamp(3rem, 8vw, 4rem) 1.5rem 0; 
        }
        .scroll-content { 
            margin: clamp(4rem, 10vw, 6rem) 1.5rem; 
            padding: clamp(2.5rem, 7vw, 3.5rem) 2rem;
        }
        .scroll-content ul {
            grid-template-columns: 1fr;
            gap: 1.2rem;
        }
        .shaka-video-container {
            height: clamp(400px, 75vh, 500px) !important;
        }
    }
   
    @media (max-width: 480px) {
        .header { padding: 1.8rem 1.5rem; }
        .player-section { padding: clamp(1.8rem, 5vw, 2.5rem); }
        .popup-content { padding: clamp(2.5rem, 8vw, 3rem); }
        .scroll-content li { padding: 1.5rem 2rem; }
    }
   
    @media (max-width: 360px) {
        .switch-btn { padding: 1.3rem 2rem; }
        .btn-premium, .btn-secondary { padding: 1.2rem 2rem; }
    }
 </style>
</head>
<body>

<!-- CMV PREMIUM HEADER -->
<div class="header">
  <div class="channel-logo">
    <h1 class="channel-name">CMV</h1>
    <a href="https://t.me/cricketmemesverse873" target="_blank" class="telegram-handle" rel="noopener noreferrer">
      <span class="telegram-icon">üì±</span> @cricketmemesverse873
    </a>
  </div>
</div>

<!-- WORLD-CLASS PREMIUM TELEGRAM POPUP -->
<div id="popup" class="popup">
  <div class="popup-content">
    <h2>‚ö° Premium Live Streams</h2>
    <p>Join CMV VIP for instant HD streams & exclusive match updates</p>
    <a href="https://t.me/cricketmemesverse873" target="_blank" rel="noopener noreferrer" class="btn-premium">Join CMV Channel</a>
    <button class="btn-secondary" onclick="startStream()">Already Joined</button>
  </div>
</div>

<!-- PREMIUM SCROLLABLE CONTENT -->
<div id="main-content">
  <!-- LUXURY STREAM SWITCHER -->
  <div id="stream-switcher" class="stream-switcher">
    <div class="switcher-title">Select Your Stream</div>
    <div class="switcher-container">
      <button class="switch-btn active" onclick="switchStream(1)" data-icon="üü°">PRIME</button>
      <button class="switch-btn" onclick="switchStream(2)" data-icon="‚öΩ">LALIGA</button>
    </div>
  </div>

  <!-- PREMIUM PLAYER -->
  <div class="player-section">
    <div id="player-container" class="hide">
      <div data-shaka-player-container="" class="shaka-video-container shaka-mobile" shaka-controls="true">
        <video autoplay data-shaka-player id="video" class="shaka-video" poster="#" playsinline></video>
        <canvas class="shaka-canvas-container"></canvas>
        <div class="shaka-controls-container">...</div>
        <div class="shaka-client-side-ad-container shaka-hidden"></div>
        <div class="shaka-spinner-container shaka-hidden">
          <div class="shaka-spinner">
            <svg class="shaka-spinner-svg" viewBox="0 0 30 30">
              <circle class="shaka-spinner-path" cx="15" cy="15" r="14.5" fill="none" stroke-width="1"></circle>
            </svg>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- VIP PROMO -->
  <div class="scroll-content">
    <h2>üéñÔ∏è CMV VIP Benefits</h2>
    <p>Exclusive access to premium streams from Cricket Memes Verse with unmatched quality</p>
    <ul>
      <li data-icon="üî¥"><span>24/7 Live Sports HD</span></li>
      <li data-icon="‚ö°"><span>Instant Stream Links</span></li>
      <li data-icon="üì±"><span>Perfect Mobile Experience</span></li>
      <li data-icon="üåç"><span>Multi-Language Support</span></li>
    </ul>
    <a href="https://t.me/cricketmemesverse873" target="_blank" class="btn-premium">
      Join CMV Channel ‚Üí
    </a>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.6/shaka-player.ui.min.js" crossorigin="anonymous"></script>
<script>
  const streams = {
    1: {
      manifestUri: "https://otte.live.fly.ww.aiv-cdn.net/iad-nitro/live/dash/enc/rlisfyx9vd/out/v1/61b8f61b22ac469297cbd4f1224f0ec8/cenc.mpd",
      drmKeyId: "f159241d40e659d58e81bc17ca30da31",
      drmKey: "6b7fe24f7a16343bd447b0b30f68b7b2"
    },
    2: {
      manifestUri: "https://abclxdjaaaaaaaamkqb6y4p6ie2zk.ottb.live.cf.ww.aiv-cdn.net/dub-nitro/live/clients/dash/enc/k0duzgfejg/out/v1/70a50b1bda944628b8e7e66ab4069419/cenc.mpd",
      drmKeyId: "620e51b82596475517a27aa425c52280",
      drmKey: "2b9ba811e9c5aeafc8ae1b71cdca4d6a"
    }
  };

  let currentStream = 1, player = null;

  function startStream() {
    document.getElementById("popup").classList.add("hide");
    document.getElementById("main-content").style.display = "block";
    setTimeout(() => {
      document.getElementById("stream-switcher").classList.add("show");
      document.getElementById("player-container").classList.remove("hide");
      initPlayer();
    }, 600);
  }

  function switchStream(streamId) {
    if (currentStream === streamId) return;
    currentStream = streamId;
    document.querySelectorAll('.switch-btn').forEach((btn, i) => {
      btn.classList.toggle('active', i + 1 === streamId);
    });
    if (player) loadStream(streamId);
  }

  async function initPlayer() {
    const video = document.getElementById('video');
    const ui = video['ui'];
    player = ui.getControls().getPlayer();
    player.addEventListener('error', e => console.error('Stream Error:', e.detail));
    await loadStream(currentStream);
  }

  async function loadStream(streamId) {
    try {
      const stream = streams[streamId];
      player.configure({ drm: { clearKeys: { [stream.drmKeyId]: stream.drmKey } } });
      await player.load(stream.manifestUri);
      console.log(`CMV Premium: Loaded ${streamId === 1 ? 'PRIME' : 'LALIGA'}`);
    } catch (e) { console.error('Load error:', e); }
  }

  if (window.top !== window.self) {
    document.body.innerHTML = '<div style="position:fixed;inset:0;background:linear-gradient(135deg,var(--primary-dark),#000);color:white;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:clamp(1.4rem,6vw,2.5rem);z-index:9999;font-weight:900;text-align:center;padding:3rem;gap:1rem;line-height:1.2;">CMV Premium<br><small style="font-size:0.6em;font-weight:400;opacity:0.8;">Direct Access Required</small></div>';
  }
</script>

</body>
</html>
